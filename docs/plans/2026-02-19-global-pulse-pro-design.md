# Global Pulse Pro â€” ç³»çµ±è¨­è¨ˆæ–‡ä»¶

**å°ˆæ¡ˆä»£è™Ÿ**: Global Pulse Pro
**ç‰ˆæœ¬**: v3.0-Enterprise MVP
**æ—¥æœŸ**: 2026-02-19
**ç‹€æ…‹**: å·²æ ¸å‡†ï¼Œå¾…å¯¦ä½œ

---

## 1. å°ˆæ¡ˆå®šä½

ä¼æ¥­ç´šå…¨çƒæˆ°ç•¥æƒ…å ±ç³»çµ±ï¼Œç‚ºæ±ºç­–è€…æä¾›è¶…è¶Šå‚³çµ±è²¡ç¶“çœ‹æ¿çš„ã€Œå¯¦é«”ç¶“æ¿Ÿå°èˆªã€ã€‚é€éç›£æ§åŸç‰©æ–™ã€ç‰©æµã€é—œç¨…ã€äººå£çµæ§‹èˆ‡æ°‘ç”Ÿæƒ…ç·’ï¼Œå°‡ç ´ç¢çš„å®è§€æ•¸æ“šè½‰åŒ–ç‚ºå…·å‰ç»æ€§çš„é¢¨éšªèˆ‡æ©Ÿæœƒå ±å‘Šã€‚

éˆæ„Ÿä¾†æºï¼š[WorldMonitor](https://github.com/koala73/worldmonitor) â€” é–‹æºå³æ™‚å…¨çƒ OSINT å„€è¡¨æ¿ã€‚æœ¬å°ˆæ¡ˆå°‡å…¶åœ°ç·£æ”¿æ²»ç›£æ§æ¨¡å¼è½‰åŒ–ç‚ºå•†æ¥­è²¿æ˜“èˆ‡å¸‚å ´é ˜åŸŸã€‚

---

## 2. æ¶æ§‹æ±ºç­–ç´€éŒ„

| æ±ºç­– | é¸æ“‡ | ç†ç”± |
|------|------|------|
| æ•´é«”æ¶æ§‹ | å‰å¾Œç«¯å®Œå…¨åˆ†é›¢ï¼ˆæ–¹æ¡ˆ Aï¼‰ | MVP è¿½æ±‚é–‹ç™¼é€Ÿåº¦èˆ‡æ¶æ§‹æ¸…æ™° |
| å‰ç«¯æŠ€è¡“ | TypeScript + Vite + deck.gl + MapLibre | 3D åœ°çƒå„€ + å¤šåœ–å±¤ï¼ŒåŒ WorldMonitor |
| å¾Œç«¯æŠ€è¡“ | Python 3.12 + FastAPI | MCP å”è­°æ”¯æ´ã€AI/ML ç”Ÿæ…‹è±å¯Œ |
| åœ°åœ–å¼•æ“ | deck.gl + MapLibre GL JS | WebGL åŠ é€Ÿï¼ŒåŠŸèƒ½æœ€å¼· |
| èªè­‰ | MVP ä¸åšç™»å…¥ï¼Œé–‹æ”¾å­˜å– | å°ˆæ³¨æ ¸å¿ƒåŠŸèƒ½ |
| æ™‚åºå„²å­˜ | InfluxDB 2.7 | æŒ‰è¦æ ¼æ›¸ç›´æ¥å»ºç«‹æ™‚åºåŸºç¤ |
| å¿«å– | Redis 7 | API å¿«å– + stale-on-error å›é€€ |
| æ’ç¨‹ | APScheduler | å–®é€²ç¨‹è¶³å¤ ï¼ŒCelery å° MVP éåº¦ |
| HTTP client | httpx | åŸç”Ÿ asyncï¼Œé…åˆ FastAPI |
| çˆ¬èŸ²è¨­å®šæŒä¹…åŒ– | JSON æª”æ¡ˆ | MVP ä¸éœ€ PostgreSQLï¼Œæœªä¾†å¯é·ç§» |

---

## 3. ç³»çµ±æ¶æ§‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   å‰ç«¯ (TypeScript + Vite)                    â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚ 3D Globe  â”‚  â”‚ å„€è¡¨æ¿é¢æ¿    â”‚  â”‚ AI å•†æ¨¡å¯©è¨ˆå™¨     â”‚     â”‚
â”‚  â”‚ deck.gl + â”‚  â”‚ (å¯¦é«”ç¶“æ¿Ÿé›·é” â”‚  â”‚ (è¡¨å–® â†’ API â†’    â”‚     â”‚
â”‚  â”‚ MapLibre  â”‚  â”‚  å¸‚å ´æŒ‡æ¨™     â”‚  â”‚  SWOT å ±å‘Š)      â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  æ¸¯å£/ç‰©æµ)   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                             â”‚
â”‚                        â†• REST + WebSocket                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                  å¾Œç«¯ (Python FastAPI)                        â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚ è³‡æ–™æ“·å–å±¤  â”‚ â”‚ åˆ†æå¼•æ“     â”‚ â”‚ æ’ç¨‹å™¨           â”‚       â”‚
â”‚  â”‚            â”‚ â”‚             â”‚ â”‚ (APScheduler)    â”‚       â”‚
â”‚  â”‚ â€¢ FRED API â”‚ â”‚ â€¢ é¢¨éšªæ¬Šé‡   â”‚ â”‚ â€¢ å®šæ™‚æŠ“å–       â”‚       â”‚
â”‚  â”‚ â€¢ Firecrawlâ”‚ â”‚ â€¢ ç•°å¸¸åµæ¸¬   â”‚ â”‚ â€¢ å¿«å–æ›´æ–°       â”‚       â”‚
â”‚  â”‚ â€¢ è‡ªè¨‚çˆ¬èŸ²  â”‚ â”‚ â€¢ LLM æ‘˜è¦  â”‚ â”‚                  â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚                        â†•                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚  InfluxDB (æ™‚åºæŒ‡æ¨™)  +  Redis (API å¿«å–/å»é‡)  â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 4. MVP è³‡æ–™ä¾†æº

æ¯é¡ä¸€å€‹ä»£è¡¨æ€§ä¾†æºï¼š

| é¡å‹ | ä»£è¡¨ä¾†æº | è³‡æ–™å…§å®¹ | æ›´æ–°é »ç‡ |
|------|---------|---------|---------|
| å…¬é–‹ API | FRED (Federal Reserve) | GDPã€CPIã€å¤±æ¥­ç‡ã€åˆ©ç‡ | æ¯ 15 åˆ†é˜ |
| AI çˆ¬èŸ² | Firecrawl â†’ BDI/æ¸¯å£æ“å¡ | æ³¢ç¾…çš„æµ·ä¹¾æ•£è²¨æŒ‡æ•¸ + æ¸¯å£ç­‰å¾…æ™‚é–“ | æ¯å°æ™‚ |
| ä¼æ¥­ç§æœ‰ | è‡ªè¨‚çˆ¬èŸ²å·¥å»  | ä½¿ç”¨è€…å®šç¾© URL + selector/AI æå– | ä½¿ç”¨è€…è¨­å®š |

---

## 5. API è¨­è¨ˆ

### REST ç«¯é»

```
GET  /api/health

# ç¸½ç¶“æŒ‡æ¨™
GET  /api/indicators/fred
GET  /api/indicators/fred/{series_id}?start=&end=&resolution=

# ç‰©æµèˆ‡å¯¦é«”ç¶“æ¿Ÿ
GET  /api/logistics/bdi
GET  /api/logistics/ports
GET  /api/logistics/ports/{port_id}

# AI åˆ†æ
POST /api/audit
     body: { model_description, target_market, industry }

# é¢¨éšª
GET  /api/risk/global
GET  /api/risk/region/{region_code}

# è‡ªè¨‚çˆ¬èŸ²
GET    /api/scrapers
POST   /api/scrapers
GET    /api/scrapers/{id}/results
DELETE /api/scrapers/{id}

# åœ°åœ–
GET  /api/map/layers
GET  /api/map/layer/{layer_id}?bbox=

# ç•°å¸¸åµæ¸¬
GET  /api/anomalies?severity=
```

### WebSocket

```
WS /ws/live

ä¼ºæœå™¨æ¨é€: { channel, event, data, timestamp }
å®¢æˆ¶ç«¯è¨‚é–±: { action: "subscribe"|"unsubscribe", channels: [...] }
```

### å¿«å–ç­–ç•¥

| è³‡æ–™é¡å‹ | Redis TTL | InfluxDB ä¿ç•™ | æ›´æ–°é »ç‡ |
|---------|-----------|--------------|---------|
| FRED ç¸½ç¶“æŒ‡æ¨™ | 15 åˆ†é˜ | æ°¸ä¹… | æ¯ 15 åˆ†é˜ |
| BDI / æ¸¯å£ | 1 å°æ™‚ | æ°¸ä¹… | æ¯å°æ™‚ |
| è‡ªè¨‚çˆ¬èŸ²çµæœ | ä¾è¨­å®š | 90 å¤© | ä½¿ç”¨è€…è¨­å®š |
| AI å¯©è¨ˆçµæœ | 24 å°æ™‚ | ä¸å­˜ | æŒ‰éœ€ |
| é¢¨éšªè©•åˆ† | 30 åˆ†é˜ | æ°¸ä¹… | æ¯ 30 åˆ†é˜ |

### éŒ¯èª¤è™•ç†

```
æ­£å¸¸:   API â†’ å¿«å– miss â†’ å¤–éƒ¨ä¾†æº â†’ å¯«å…¥å¿«å– + InfluxDB â†’ å›æ‡‰
å¿«å–:   API â†’ Redis hit â†’ å›æ‡‰ (X-Cache: HIT)
é™ç´š:   API â†’ å¤–éƒ¨å¤±æ•— â†’ Redis stale â†’ å›æ‡‰ (X-Stale: true)
å…¨æ–·:   API â†’ 503 + æœ€å¾Œå·²çŸ¥æ™‚é–“æˆ³
```

---

## 6. å‰ç«¯è¨­è¨ˆ

### ä½ˆå±€

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  é ‚éƒ¨å·¥å…·åˆ—                                                       â”‚
â”‚  [Global Pulse Pro]  [å€åŸŸé¸æ“‡ â–¾]  [æ™‚é–“çª—å£ â–¾]  [ğŸ” æœå°‹]  [âš™ï¸] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                            â”‚   å³å´é¢æ¿ (å¯æ”¶åˆ)   â”‚
â”‚            3D æˆ°ç•¥åœ°çƒå„€                    â”‚                     â”‚
â”‚           (deck.gl + MapLibre)             â”‚  å¯¦é«”ç¶“æ¿Ÿé›·é”         â”‚
â”‚                                            â”‚  é¢¨éšªè©•åˆ†é¢æ¿         â”‚
â”‚    å€åŸŸæ³¡æ³¡ + ç®­é ­æ¼²è·ŒæŒ‡æ¨™                  â”‚  AI å•†æ¨¡å¯©è¨ˆå™¨       â”‚
â”‚    ç•°å¸¸äº‹ä»¶è„ˆè¡å‹•ç•«                         â”‚  è‡ªè¨‚çˆ¬èŸ²ç®¡ç†        â”‚
â”‚                                            â”‚                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                     â”‚
â”‚  åº•éƒ¨æ™‚é–“è»¸å›æ”¾æ§åˆ¶                          â”‚                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### å…ƒä»¶æ¶æ§‹ï¼ˆç´” TypeScript Classï¼‰

```
src/
â”œâ”€â”€ main.ts                    # é€²å…¥é»
â”œâ”€â”€ App.ts                     # ä¸»æ§åˆ¶å™¨
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ MapContainer.ts        # åœ°åœ–å®¹å™¨
â”‚   â”œâ”€â”€ DeckGLMap.ts           # deck.gl åœ–å±¤ç®¡ç†
â”‚   â”œâ”€â”€ MapPopup.ts            # é»æ“Šå½ˆå‡ºå¡
â”‚   â”œâ”€â”€ EconomicRadarPanel.ts  # å¯¦é«”ç¶“æ¿Ÿé›·é”
â”‚   â”œâ”€â”€ RiskScorePanel.ts      # é¢¨éšªè©•åˆ†é¢æ¿
â”‚   â”œâ”€â”€ AuditPanel.ts          # AI å•†æ¨¡å¯©è¨ˆå™¨
â”‚   â”œâ”€â”€ ScraperManagerPanel.ts # è‡ªè¨‚çˆ¬èŸ²ç®¡ç†
â”‚   â”œâ”€â”€ AnomalyListPanel.ts    # ç•°å¸¸è­¦å ±åˆ—è¡¨
â”‚   â”œâ”€â”€ Toolbar.ts             # é ‚éƒ¨å·¥å…·åˆ—
â”‚   â”œâ”€â”€ Timeline.ts            # æ™‚é–“è»¸å›æ”¾
â”‚   â”œâ”€â”€ Panel.ts               # é¢æ¿åŸºåº•é¡åˆ¥
â”‚   â””â”€â”€ SearchModal.ts         # å…¨åŸŸæœå°‹
â”œâ”€â”€ config/
â”‚   â”œâ”€â”€ regions.ts             # 8 å€åŸŸé è¨­
â”‚   â”œâ”€â”€ feeds.ts               # è³‡æ–™ä¾†æºå®šç¾©
â”‚   â”œâ”€â”€ indicators.ts          # FRED æŒ‡æ¨™å°ç…§
â”‚   â”œâ”€â”€ ports.ts               # æ¸¯å£åº§æ¨™èˆ‡å…ƒè³‡æ–™
â”‚   â””â”€â”€ variant.ts             # è®Šé«”è¨­å®š
â”œâ”€â”€ services/
â”‚   â”œâ”€â”€ api-client.ts          # REST client
â”‚   â”œâ”€â”€ ws-client.ts           # WebSocket ç®¡ç†
â”‚   â”œâ”€â”€ indicators.ts          # æŒ‡æ¨™è³‡æ–™è™•ç†
â”‚   â”œâ”€â”€ logistics.ts           # ç‰©æµè³‡æ–™è™•ç†
â”‚   â”œâ”€â”€ risk-scoring.ts        # é¢¨éšªè©•åˆ†é‚è¼¯
â”‚   â”œâ”€â”€ anomaly-detector.ts    # ç•°å¸¸éæ¿¾æ’åº
â”‚   â”œâ”€â”€ timezone-focus.ts      # 24/7 å€åŸŸè‡ªå‹•åˆ‡æ›
â”‚   â””â”€â”€ url-state.ts           # URL ç‹€æ…‹åºåˆ—åŒ–
â”œâ”€â”€ utils/
â”‚   â”œâ”€â”€ chart.ts               # D3 è¿·ä½ åœ–è¡¨
â”‚   â”œâ”€â”€ format.ts              # æ ¼å¼åŒ–å·¥å…·
â”‚   â”œâ”€â”€ sanitize.ts            # XSS é˜²ç¦¦
â”‚   â””â”€â”€ export.ts              # åŒ¯å‡ºåŠŸèƒ½
â”œâ”€â”€ styles/
â”‚   â””â”€â”€ main.css               # æ·±è‰²ä¸»é¡Œ
â””â”€â”€ types/
    â”œâ”€â”€ indicators.ts
    â”œâ”€â”€ logistics.ts
    â”œâ”€â”€ risk.ts
    â””â”€â”€ api.ts
```

### åœ°åœ–åœ–å±¤

| åœ–å±¤ | deck.gl Layer | è¦–è¦ºæ•ˆæœ |
|------|--------------|---------|
| å€åŸŸç¶“æ¿Ÿæ³¡æ³¡ | ScatterplotLayer | å¤§å°=GDPï¼Œé¡è‰²=é¢¨éšªç­‰ç´š |
| éœ€æ±‚ç®­é ­ | IconLayer | â†‘ç¶ /â†“ç´…ï¼Œå¤§å°=è®ŠåŒ–å¹…åº¦ |
| æ¸¯å£æ“å¡ | ScatterplotLayer | è„ˆè¡å‹•ç•«ï¼ŒåŠå¾‘=ç­‰å¾…èˆ¹æ•¸ |
| ç•°å¸¸è„ˆè¡ | ScatterplotLayer (animated) | ç´…è‰²æ³¢ç´‹ï¼Œz-score è¶Šé«˜è¶Šäº® |
| è²¿æ˜“èˆªç·š | ArcLayer | å¼§ç·šç²—ç´°=è²¿æ˜“é‡ |

### 24/7 å€åŸŸè‡ªå‹•åˆ‡æ›

```
UTC+8~+12  â†’ äºå¤ª
UTC+0~+3   â†’ æ­æ´²
UTC-5~-8   â†’ ç¾æ´²
å…¶ä»–        â†’ å…¨çƒç¸½è¦½
```

æ‰‹å‹•åˆ‡æ›å¾Œæš«åœè‡ªå‹•è¼ªè½‰ï¼Œé–’ç½® 10 åˆ†é˜æ¢å¾©ã€‚

---

## 7. å¾Œç«¯è¨­è¨ˆ

### ç›®éŒ„çµæ§‹

```
backend/
â”œâ”€â”€ main.py                    # FastAPI é€²å…¥é» + æ’ç¨‹å™¨å•Ÿå‹•
â”œâ”€â”€ requirements.txt
â”œâ”€â”€ Dockerfile
â”œâ”€â”€ .env.example
â”œâ”€â”€ api/                       # è·¯ç”±å±¤ï¼ˆè–„å±¤ï¼‰
â”‚   â”œâ”€â”€ router.py              # çµ±ä¸€æ›è¼‰
â”‚   â”œâ”€â”€ indicators.py
â”‚   â”œâ”€â”€ logistics.py
â”‚   â”œâ”€â”€ risk.py
â”‚   â”œâ”€â”€ audit.py
â”‚   â”œâ”€â”€ scrapers.py
â”‚   â”œâ”€â”€ map_layers.py
â”‚   â”œâ”€â”€ anomalies.py
â”‚   â””â”€â”€ ws.py
â”œâ”€â”€ services/                  # æ¥­å‹™é‚è¼¯ï¼ˆæ ¸å¿ƒï¼‰
â”‚   â”œâ”€â”€ fred_client.py
â”‚   â”œâ”€â”€ firecrawl_client.py
â”‚   â”œâ”€â”€ custom_scraper.py
â”‚   â”œâ”€â”€ risk_engine.py
â”‚   â”œâ”€â”€ anomaly_detector.py    # Welford ä¸²æµç•°å¸¸åµæ¸¬
â”‚   â”œâ”€â”€ llm_client.py
â”‚   â”œâ”€â”€ audit_engine.py
â”‚   â””â”€â”€ timezone_focus.py
â”œâ”€â”€ fetchers/                  # æ’ç¨‹ä»»å‹™
â”‚   â”œâ”€â”€ fred_fetcher.py
â”‚   â”œâ”€â”€ bdi_fetcher.py
â”‚   â”œâ”€â”€ port_fetcher.py
â”‚   â””â”€â”€ custom_fetcher.py
â”œâ”€â”€ models/                    # Pydantic å‹åˆ¥
â”‚   â”œâ”€â”€ indicators.py
â”‚   â”œâ”€â”€ logistics.py
â”‚   â”œâ”€â”€ risk.py
â”‚   â”œâ”€â”€ audit.py
â”‚   â””â”€â”€ scraper.py
â”œâ”€â”€ storage/                   # å„²å­˜æŠ½è±¡å±¤
â”‚   â”œâ”€â”€ influxdb.py
â”‚   â”œâ”€â”€ redis_cache.py
â”‚   â””â”€â”€ scraper_store.py
â”œâ”€â”€ scheduler/
â”‚   â””â”€â”€ jobs.py                # APScheduler ä»»å‹™è¨»å†Š
â”œâ”€â”€ core/                      # åŸºç¤è¨­æ–½
â”‚   â”œâ”€â”€ config.py              # pydantic-settings
â”‚   â”œâ”€â”€ exceptions.py
â”‚   â”œâ”€â”€ middleware.py           # CORSã€æ—¥èªŒã€éŒ¯èª¤è™•ç†
â”‚   â””â”€â”€ dependencies.py        # FastAPI DI
â””â”€â”€ tests/
    â”œâ”€â”€ conftest.py
    â”œâ”€â”€ test_fred_client.py
    â”œâ”€â”€ test_risk_engine.py
    â”œâ”€â”€ test_anomaly_detector.py
    â”œâ”€â”€ test_audit_engine.py
    â”œâ”€â”€ test_custom_scraper.py
    â””â”€â”€ test_api/
        â”œâ”€â”€ test_indicators.py
        â””â”€â”€ test_scrapers.py
```

### æ¨¡çµ„ä¾è³´åŸå‰‡

```
api/ â†’ services/ â†’ storage/
           â†‘
fetchers/ â”€â”˜

api/ ä¸ç›´æ¥ç¢° storage/ï¼Œä¸€å¾‹é€é services/
fetchers/ æ˜¯ services/ çš„æ’ç¨‹åŒ…è£å™¨
```

### æ ¸å¿ƒä¾è³´

```
fastapi, uvicorn          # Web æ¡†æ¶
pydantic, pydantic-settings  # é©—è­‰èˆ‡è¨­å®š
influxdb-client[async]    # æ™‚åºå„²å­˜
redis[hiredis]            # å¿«å–
apscheduler               # æ’ç¨‹
httpx                     # async HTTP
firecrawl-py              # çˆ¬èŸ² SDK
groq                      # LLM SDK
pytest, pytest-asyncio    # æ¸¬è©¦
```

---

## 8. æ¸¬è©¦ç­–ç•¥

### æ¸¬è©¦é‡‘å­—å¡”

| å±¤ç´š | ç¯„åœ | å·¥å…· |
|------|------|------|
| å–®å…ƒæ¸¬è©¦ï¼ˆå¤§é‡ï¼‰ | services/ ç´”é‚è¼¯ã€models/ é©—è­‰ | pytest |
| æ•´åˆæ¸¬è©¦ï¼ˆä¸­é‡ï¼‰ | API ç«¯é»ã€fetcher æµç¨‹ | pytest + httpx AsyncClient |
| åˆç´„æ¸¬è©¦ | å¤–éƒ¨ API å›æ‡‰æ ¼å¼ | pytest + fixture å¿«ç…§ |
| E2Eï¼ˆå°‘é‡ï¼‰ | åœ°åœ–è¼‰å…¥ã€é¢æ¿äº’å‹•ã€å¯©è¨ˆæµç¨‹ | Playwright |
| è¦–è¦ºå›æ­¸ | é¢æ¿æ¸²æŸ“å¿«ç…§ | Playwright |

### TDD ç´€å¾‹

æ‰€æœ‰å¯¦é«”ç¶“æ¿Ÿè¨ˆç®—å…¬å¼ï¼ˆé¢¨éšªæ¬Šé‡ã€Welford ç•°å¸¸åµæ¸¬ã€z-score é–¾å€¼ï¼‰å¿…é ˆæœ‰å°æ‡‰å–®å…ƒæ¸¬è©¦ã€‚AI ä¸å¾—åœ¨æ¸¬è©¦æœªé€šéå‰å®£ç¨±å®Œæˆã€‚

---

## 9. éƒ¨ç½²æ¶æ§‹

### é–‹ç™¼ç’°å¢ƒï¼ˆDocker Composeï¼‰

4 å€‹å®¹å™¨ï¼šfrontend (Vite :5173)ã€backend (FastAPI :8000)ã€influxdb (:8086)ã€redis (:6379)ã€‚å‰å¾Œç«¯ volume mount æ”¯æ´ç†±é‡è¼‰ã€‚

### ç”Ÿç”¢éƒ¨ç½²

- å‰ç«¯ï¼šVercel æˆ– Nginx éœæ…‹è¨—ç®¡
- å¾Œç«¯ï¼šRailway / Fly.io / è‡ªå»º Dockerï¼ˆFastAPI + Gunicornï¼‰
- å„²å­˜ï¼šInfluxDB + Redis å®¹å™¨ï¼ŒæŒä¹…åŒ– volume

### ä¼æ¥­å…§åŒ–ç‰ˆ

`docker compose -f docker-compose.prod.yml up -d` å–®ä¸€æŒ‡ä»¤å•Ÿå‹•å…¨å¥—ã€‚

### CI/CDï¼ˆGitHub Actionsï¼‰

| æª¢æŸ¥é … | å¤±æ•—æ¢ä»¶ |
|--------|---------|
| pytest æ¸¬è©¦ | ä»»ä¸€å¤±æ•— |
| è¦†è“‹ç‡ | < 80% |
| å‰ç«¯å»ºç½® | TypeScript ç·¨è­¯éŒ¯èª¤ |
| E2E | ä»»ä¸€æƒ…å¢ƒå¤±æ•— |
| ä¾è³´å®‰å…¨æƒæ | high/critical æ¼æ´ |

---

## 10. æœªä¾†æ“´å±•è·¯å¾‘

| éšæ®µ | åŠŸèƒ½ | å‚™è¨» |
|------|------|------|
| MVP+1 | Google/Microsoft OAuth + è§’è‰²æ¬Šé™ | åŠ å…¥ PostgreSQL |
| MVP+2 | æ›´å¤šè³‡æ–™ä¾†æºï¼ˆçŸ­è£™æŒ‡æ•¸ã€å£ç´…æŒ‡æ•¸ã€ç¢³é—œç¨…ï¼‰ | æ“´å±• fetchers/ |
| MVP+3 | Stripe è¨‚é–± + åˆ†ç´šæ–¹æ¡ˆ | æŒ‰å€åŸŸ/AI æ¬¡æ•¸è¨ˆè²» |
| MVP+4 | å¤šè®Šé«”å»ºç½®ï¼ˆtrade/tech/financeï¼‰ | åŒ WorldMonitor æ¨¡å¼ |
| MVP+5 | Mem0 åˆ†æåå¥½è¨˜æ†¶ | å€‹äººåŒ– AI çŸ¥è­˜åº« |
| MVP+6 | Tauri æ¡Œé¢ç‰ˆ | ä¼æ¥­é›¢ç·šä½¿ç”¨ |
